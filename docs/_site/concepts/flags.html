<!DOCTYPE html><html lang="en-US"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><link rel="stylesheet" href="/Cultivation/exampleMod/AfnmExampleMod/docs/assets/css/just-the-docs-default.css"><link rel="stylesheet" href="/Cultivation/exampleMod/AfnmExampleMod/docs/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet"><style id="jtd-nav-activation"> .site-nav > ul.nav-list:first-child > li > a, .site-nav > ul.nav-list:first-child > li > ul > li:not(:nth-child(2)) > a, .site-nav > ul.nav-list:first-child > li > ul > li > ul > li a { background-image: none; } .site-nav > ul.nav-list:not(:first-child) a, .site-nav li.external a { background-image: none; } .site-nav > ul.nav-list:first-child > li:nth-child(4) > ul > li:nth-child(2) > a { font-weight: 600; text-decoration: none; }.site-nav > ul.nav-list:first-child > li:nth-child(4) > button svg, .site-nav > ul.nav-list:first-child > li:nth-child(4) > ul > li:nth-child(2) > button svg { transform: rotate(-90deg); }.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(4) > ul.nav-list, .site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(4) > ul.nav-list > li.nav-list-item:nth-child(2) > ul.nav-list { display: block; }</style><script src="/Cultivation/exampleMod/AfnmExampleMod/docs/assets/js/vendor/lunr.min.js"></script> <script src="/Cultivation/exampleMod/AfnmExampleMod/docs/assets/js/just-the-docs.js"></script><meta name="viewport" content="width=device-width, initial-scale=1"><title>Flags System | AFNM Example Mod Documentation</title><meta name="generator" content="Jekyll v3.10.0" /><meta property="og:title" content="Flags System" /><meta property="og:locale" content="en_US" /><meta name="description" content="State management and tracking in AFNM mods" /><meta property="og:description" content="State management and tracking in AFNM mods" /><link rel="canonical" href="http://localhost:4000/Cultivation/exampleMod/AfnmExampleMod/docs/concepts/flags.html" /><meta property="og:url" content="http://localhost:4000/Cultivation/exampleMod/AfnmExampleMod/docs/concepts/flags.html" /><meta property="og:site_name" content="AFNM Example Mod Documentation" /><meta property="og:type" content="website" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Flags System" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"State management and tracking in AFNM mods","headline":"Flags System","url":"http://localhost:4000/Cultivation/exampleMod/AfnmExampleMod/docs/concepts/flags.html"}</script><style> /* Custom gold and dark grey-brown theme for AFNM docs */ /* Force dark brown backgrounds */ body { background-color: #1a1612 !important; color: #e8e3d3 !important; } .main { background-color: #1a1612 !important; } .main-content-wrap { background-color: #1a1612 !important; } .site-nav, .site-footer { background-color: #1a1612 !important; } /* Sidebar styling */ .side-bar { background-color: #211d18 !important; border-right: 1px solid #3d3529 !important; } /* Gold headers */ h1, h2, h3, h4, h5, h6 { color: #d4af37 !important; } .site-title, .site-title:visited { color: #d4af37 !important; } /* Navigation styling */ .navigation-list-item .navigation-list-link { color: #e8e3d3 !important; } .navigation-list-child-list .navigation-list-link { color: #b8a082 !important; } .navigation-list-item .navigation-list-link:hover, .navigation-list-item .navigation-list-link:focus { background-color: rgba(212, 175, 55, 0.1) !important; color: #f4cf47 !important; } .navigation-list-item.active > .navigation-list-link, .navigation-list-item.active > .navigation-list-link:hover { background-color: rgba(212, 175, 55, 0.2) !important; color: #d4af37 !important; } /* Links */ a { color: #d4af37 !important; } a:hover, a:focus { color: #f4cf47 !important; } /* Search box */ .search-input { background-color: #2a251f !important; color: #e8e3d3 !important; border: 1px solid #3d3529 !important; } /* Code blocks */ code, pre, .highlight { background-color: #0f0d0a !important; border: 1px solid #3d3529 !important; color: #e8e3d3 !important; }</style><body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"><title>Link</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"><title>Menu</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"><title>Expand</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><title id="svg-external-link-title">(external link)</title><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"><title>Document</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"><title>Search</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-copy" viewBox="0 0 16 16"><title>Copy</title><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"><path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/><path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"><title>Copied</title><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"><path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/><path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg><div class="side-bar"><div class="site-header" role="banner"> <a href="/Cultivation/exampleMod/AfnmExampleMod/docs/" class="site-title lh-tight"> AFNM Example Mod Documentation </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button></div><nav aria-label="Main" id="site-nav" class="site-nav"><ul class="nav-list"><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/" class="nav-list-link">Home</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/getting-started.html" class="nav-list-link">Getting Started</a><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Guides category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/guides/" class="nav-list-link">Guides</a><ul class="nav-list"><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/guides/project-setup.html" class="nav-list-link">Project Setup</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/guides/mod-development.html" class="nav-list-link">Mod Development</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/guides/packaging-testing.html" class="nav-list-link">Packaging & Testing</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/guides/publishing.html" class="nav-list-link">Publishing Your Mod</a></ul><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Core Concepts category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/concepts/" class="nav-list-link">Core Concepts</a><ul class="nav-list"><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/concepts/modapi.html" class="nav-list-link">ModAPI Reference</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/concepts/flags.html" class="nav-list-link">Flags System</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/concepts/scaling.html" class="nav-list-link">Scaling System</a></ul><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Events System category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/events/" class="nav-list-link">Events System</a><ul class="nav-list"><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/events/events.html" class="nav-list-link">Events</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/events/event-steps.html" class="nav-list-link">Event Steps</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/events/triggered-events.html" class="nav-list-link">Triggered Events</a><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Event Step Types category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/events/steps/" class="nav-list-link">Event Step Types</a><ul class="nav-list"><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/events/steps/text.html" class="nav-list-link">Text Step</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/events/steps/speech.html" class="nav-list-link">Speech Step</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/events/steps/choice.html" class="nav-list-link">Choice Step</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/events/steps/flag.html" class="nav-list-link">Flag Step</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/events/steps/advanceguildrank.html" class="nav-list-link">Advance Guild Rank Step</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/events/steps/conditional.html" class="nav-list-link">Conditional Step</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/events/steps/addguildapproval.html" class="nav-list-link">Add Guild Approval Step</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/events/steps/additem.html" class="nav-list-link">Add Item Step</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/events/steps/money.html" class="nav-list-link">Money Step</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/events/steps/removeitem.html" class="nav-list-link">Remove Item Step</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/events/steps/addmultipleitem.html" class="nav-list-link">Add Multiple Items Step</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/events/steps/replaceitem.html" class="nav-list-link">Replace Item Step</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/events/steps/qi.html" class="nav-list-link">Qi Step</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/events/steps/dropitem.html" class="nav-list-link">Drop Item Step</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/events/steps/approval.html" class="nav-list-link">Approval Step</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/events/steps/changehp.html" class="nav-list-link">Change HP Step</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/events/steps/progressrelationship.html" class="nav-list-link">Progress Relationship Step</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/events/steps/teamup.html" class="nav-list-link">Team Up Step</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/events/steps/clearteamup.html" class="nav-list-link">Clear Team Up Step</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/events/steps/addfollower.html" class="nav-list-link">Add Follower Step</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/events/steps/dualcultivation.html" class="nav-list-link">Dual Cultivation Step</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/events/steps/changebgm.html" class="nav-list-link">Change BGM Step</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/events/steps/talktocharacter.html" class="nav-list-link">Talk To Character Step</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/events/steps/clearchangebgm.html" class="nav-list-link">Clear Change BGM Step</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/events/steps/tradewithcharacter.html" class="nav-list-link">Trade With Character Step</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/events/steps/craftwithcharacter.html" class="nav-list-link">Craft With Character Step</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/events/steps/fightcharacter.html" class="nav-list-link">Fight Character Step</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/events/steps/combat.html" class="nav-list-link">Combat Step</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/events/steps/changelocation.html" class="nav-list-link">Change Location Step</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/events/steps/changescreen.html" class="nav-list-link">Change Screen Step</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/events/steps/crafting.html" class="nav-list-link">Crafting Step</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/events/steps/craftskill.html" class="nav-list-link">Craft Skill Step</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/events/steps/exit.html" class="nav-list-link">Exit Step</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/events/steps/tournament.html" class="nav-list-link">Tournament Step</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/events/steps/createbuff.html" class="nav-list-link">Create Buff Step</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/events/steps/consumebuff.html" class="nav-list-link">Consume Buff Step</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/events/steps/addquest.html" class="nav-list-link">Add Quest Step</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/events/steps/markcalendareventcomplete.html" class="nav-list-link">Mark Calendar Event Complete Step</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/events/steps/changefavour.html" class="nav-list-link">Change Favour Step</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/events/steps/adddestiny.html" class="nav-list-link">Add Destiny Step</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/events/steps/changereputation.html" class="nav-list-link">Change Reputation Step</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/events/steps/unlocklocation.html" class="nav-list-link">Unlock Location Step</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/events/steps/unlockaltar.html" class="nav-list-link">Unlock Altar Step</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/events/steps/setcharacter.html" class="nav-list-link">Set Character Step</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/events/steps/clearcharacter.html" class="nav-list-link">Clear Character Step</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/events/steps/passtime.html" class="nav-list-link">Pass Time Step</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/events/steps/label.html" class="nav-list-link">Label Step</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/events/steps/gotolabel.html" class="nav-list-link">Goto Label Step</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/events/steps/unlockcraftingtechnique.html" class="nav-list-link">Unlock Crafting Technique Step</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/events/steps/unlocktechnique.html" class="nav-list-link">Unlock Technique Step</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/events/steps/addrecipe.html" class="nav-list-link">Add Recipe Step</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/events/steps/markbeatcharacter.html" class="nav-list-link">Mark Beat Character Step</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/events/steps/markdidencounter.html" class="nav-list-link">Mark Did Encounter Step</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/events/steps/giveitem.html" class="nav-list-link">Give Item Step</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/events/steps/setaidbreakthroughcooldown.html" class="nav-list-link">Set Aid Breakthrough Cooldown Step</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/events/steps/updatecharacterdefinition.html" class="nav-list-link">Update Character Definition Step</a><li class="nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/events/steps/overrideplayerrealm.html" class="nav-list-link">Override Player Realm Step</a></ul></ul></ul><ul class="nav-list"><li class="nav-list-item external"> <a href="https://github.com/lyeeedar/Cultivation" class="nav-list-link external" > GitHub Repository <svg viewBox="0 0 24 24" aria-labelledby="svg-external-link-title"><use xlink:href="#svg-external-link"></use></svg> </a></ul></nav><footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.</footer></div><div class="main" id="top"><div id="main-header" class="main-header"><div class="search" role="search"><div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search AFNM Example Mod Documentation" aria-label="Search AFNM Example Mod Documentation" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label></div><div id="search-results" class="search-results"></div></div><nav aria-label="Auxiliary" class="aux-nav"><ul class="aux-nav-list"><li class="aux-nav-list-item"> <a href="https://github.com/lyeeedar/Cultivation" class="site-button" > View on GitHub </a></ul></nav></div><div class="main-content-wrap"><nav aria-label="Breadcrumb" class="breadcrumb-nav"><ol class="breadcrumb-nav-list"><li class="breadcrumb-nav-list-item"><a href="/Cultivation/exampleMod/AfnmExampleMod/docs/concepts/">Core Concepts</a><li class="breadcrumb-nav-list-item"><span>Flags System</span></ol></nav><div id="main-content" class="main-content"><main><h1 id="flags-system"> <a href="#flags-system" class="anchor-heading" aria-labelledby="flags-system"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Flags System</h1><h2 id="introduction"> <a href="#introduction" class="anchor-heading" aria-labelledby="introduction"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Introduction</h2><p>Flags are the backbone of state management in Ascend from Nine Mountains. They serve as the game’s memory system, allowing you to track player choices, quest progress, character interactions, and any other persistent or temporary data your mod needs to remember.</p><p>Think of flags as a simple database where you can store numbers and retrieve them later to make decisions about how events unfold.</p><h2 id="core-concepts"> <a href="#core-concepts" class="anchor-heading" aria-labelledby="core-concepts"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Core Concepts</h2><h3 id="what-are-flags"> <a href="#what-are-flags" class="anchor-heading" aria-labelledby="what-are-flags"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> What Are Flags?</h3><p>Flags are <strong>key-value pairs</strong> consisting of:</p><ul><li><strong>Key</strong>: A unique string identifier (e.g., <code class="language-plaintext highlighter-rouge">"playerMetElder"</code>)<li><strong>Value</strong>: A numeric value that can represent booleans, counters, or complex data</ul><h3 id="flag-types"> <a href="#flag-types" class="anchor-heading" aria-labelledby="flag-types"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Flag Types</h3><p><strong>Global Flags</strong></p><ul><li>Persist across the entire game session<li>Saved permanently with the game state<li>Use for: player progress, unlocked content, important choices</ul><p><strong>Event Flags</strong></p><ul><li>Temporary storage during event sequences<li>Automatically cleared when the event ends<li>Use for: dialogue branches, temporary calculations, step-by-step logic</ul><h2 id="deep-dive-flag-mechanics"> <a href="#deep-dive-flag-mechanics" class="anchor-heading" aria-labelledby="deep-dive-flag-mechanics"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Deep Dive: Flag Mechanics</h2><h3 id="setting-flag-values"> <a href="#setting-flag-values" class="anchor-heading" aria-labelledby="setting-flag-values"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Setting Flag Values</h3><p>When you set a flag, the <code class="language-plaintext highlighter-rouge">value</code> field is evaluated as a mathematical expression, and the resulting number is stored:</p><div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
  <span class="nl">kind</span><span class="p">:</span> <span class="dl">'</span><span class="s1">flag</span><span class="dl">'</span><span class="p">,</span>
  <span class="nx">flag</span><span class="p">:</span> <span class="dl">'</span><span class="s1">questProgress</span><span class="dl">'</span><span class="p">,</span>
  <span class="nx">value</span><span class="p">:</span> <span class="dl">'</span><span class="s1">questProgress + 1</span><span class="dl">'</span><span class="p">,</span>  <span class="c1">// Evaluates current value + 1</span>
  <span class="nb">global</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">}</span>
</code></pre></div></div><p><strong>Expression Examples:</strong></p><div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">value</span><span class="p">:</span> <span class="dl">'</span><span class="s1">1</span><span class="dl">'</span><span class="p">;</span> <span class="c1">// Stores: 1</span>
<span class="nl">value</span><span class="p">:</span> <span class="dl">'</span><span class="s1">month</span><span class="dl">'</span><span class="p">;</span> <span class="c1">// Stores: current month (e.g., 15)</span>
<span class="nl">value</span><span class="p">:</span> <span class="dl">'</span><span class="s1">existingFlag + 1</span><span class="dl">'</span><span class="p">;</span> <span class="c1">// Stores: previous value + 1</span>
<span class="nl">value</span><span class="p">:</span> <span class="dl">'</span><span class="s1">power * 2</span><span class="dl">'</span><span class="p">;</span> <span class="c1">// Stores: player's power × 2</span>
</code></pre></div></div><h3 id="reading-flags-in-conditions"> <a href="#reading-flags-in-conditions" class="anchor-heading" aria-labelledby="reading-flags-in-conditions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Reading Flags in Conditions</h3><p>Use flags in <code class="language-plaintext highlighter-rouge">condition</code> strings to control event flow:</p><div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Simple boolean check</span>
<span class="nx">condition</span><span class="p">:</span> <span class="dl">'</span><span class="s1">playerMetBoss == 1</span><span class="dl">'</span><span class="p">;</span>

<span class="c1">// Numeric comparison</span>
<span class="nl">condition</span><span class="p">:</span> <span class="dl">'</span><span class="s1">questProgress &gt;= 5</span><span class="dl">'</span><span class="p">;</span>

<span class="c1">// Complex logic with multiple flags</span>
<span class="nl">condition</span><span class="p">:</span> <span class="dl">'</span><span class="s1">playerLevel &gt;= 10 &amp;&amp; hasWeapon == 1</span><span class="dl">'</span><span class="p">;</span>

<span class="c1">// Mathematical operations</span>
<span class="nl">condition</span><span class="p">:</span> <span class="dl">'</span><span class="s1">totalScore &gt;= requiredScore * 2</span><span class="dl">'</span><span class="p">;</span>
</code></pre></div></div><h2 id="practical-examples"> <a href="#practical-examples" class="anchor-heading" aria-labelledby="practical-examples"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Practical Examples</h2><h3 id="tracking-first-meetings"> <a href="#tracking-first-meetings" class="anchor-heading" aria-labelledby="tracking-first-meetings"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Tracking First Meetings</h3><div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
  <span class="nl">kind</span><span class="p">:</span> <span class="dl">'</span><span class="s1">conditional</span><span class="dl">'</span><span class="p">,</span>
  <span class="nx">branches</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="na">condition</span><span class="p">:</span> <span class="dl">'</span><span class="s1">metElderLi == 0</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">children</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
          <span class="na">kind</span><span class="p">:</span> <span class="dl">'</span><span class="s1">text</span><span class="dl">'</span><span class="p">,</span>
          <span class="na">text</span><span class="p">:</span> <span class="dl">'</span><span class="s1">You encounter Elder Li for the first time.</span><span class="dl">'</span>
        <span class="p">},</span>
        <span class="p">{</span>
          <span class="na">kind</span><span class="p">:</span> <span class="dl">'</span><span class="s1">flag</span><span class="dl">'</span><span class="p">,</span>
          <span class="na">flag</span><span class="p">:</span> <span class="dl">'</span><span class="s1">metElderLi</span><span class="dl">'</span><span class="p">,</span>
          <span class="na">value</span><span class="p">:</span> <span class="dl">'</span><span class="s1">1</span><span class="dl">'</span><span class="p">,</span>
          <span class="na">global</span><span class="p">:</span> <span class="kc">true</span>
        <span class="p">}</span>
      <span class="p">]</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="na">condition</span><span class="p">:</span> <span class="dl">'</span><span class="s1">metElderLi &gt;= 1</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">children</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
          <span class="na">kind</span><span class="p">:</span> <span class="dl">'</span><span class="s1">text</span><span class="dl">'</span><span class="p">,</span>
          <span class="na">text</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Elder Li greets you warmly.</span><span class="dl">'</span>
        <span class="p">}</span>
      <span class="p">]</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</code></pre></div></div><h3 id="progressive-counters"> <a href="#progressive-counters" class="anchor-heading" aria-labelledby="progressive-counters"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Progressive Counters</h3><div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Increment helper counter</span>
<span class="p">{</span>
  <span class="nl">kind</span><span class="p">:</span> <span class="dl">'</span><span class="s1">flag</span><span class="dl">'</span><span class="p">,</span>
  <span class="nx">flag</span><span class="p">:</span> <span class="dl">'</span><span class="s1">helpedPeople</span><span class="dl">'</span><span class="p">,</span>
  <span class="nx">value</span><span class="p">:</span> <span class="dl">'</span><span class="s1">helpedPeople + 1</span><span class="dl">'</span><span class="p">,</span>
  <span class="nb">global</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">}</span>

<span class="c1">// Check reputation threshold</span>
<span class="p">{</span>
  <span class="na">kind</span><span class="p">:</span> <span class="dl">'</span><span class="s1">conditional</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">branches</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="na">condition</span><span class="p">:</span> <span class="dl">'</span><span class="s1">helpedPeople &gt;= 5</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">children</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
          <span class="na">kind</span><span class="p">:</span> <span class="dl">'</span><span class="s1">text</span><span class="dl">'</span><span class="p">,</span>
          <span class="na">text</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Your reputation for kindness precedes you.</span><span class="dl">'</span>
        <span class="p">}</span>
      <span class="p">]</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</code></pre></div></div><h3 id="time-based-logic"> <a href="#time-based-logic" class="anchor-heading" aria-labelledby="time-based-logic"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Time-Based Logic</h3><div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Remember when something happened</span>
<span class="p">{</span>
  <span class="nl">kind</span><span class="p">:</span> <span class="dl">'</span><span class="s1">flag</span><span class="dl">'</span><span class="p">,</span>
  <span class="nx">flag</span><span class="p">:</span> <span class="dl">'</span><span class="s1">festivalMonth</span><span class="dl">'</span><span class="p">,</span>
  <span class="nx">value</span><span class="p">:</span> <span class="dl">'</span><span class="s1">month</span><span class="dl">'</span><span class="p">,</span>
  <span class="nb">global</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">}</span>

<span class="c1">// Check elapsed time</span>
<span class="p">{</span>
  <span class="na">kind</span><span class="p">:</span> <span class="dl">'</span><span class="s1">conditional</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">branches</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="na">condition</span><span class="p">:</span> <span class="dl">'</span><span class="s1">month - festivalMonth &gt;= 6</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">children</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
          <span class="na">kind</span><span class="p">:</span> <span class="dl">'</span><span class="s1">text</span><span class="dl">'</span><span class="p">,</span>
          <span class="na">text</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Half a year has passed since the festival.</span><span class="dl">'</span>
        <span class="p">}</span>
      <span class="p">]</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</code></pre></div></div><h2 id="built-in-game-flags"> <a href="#built-in-game-flags" class="anchor-heading" aria-labelledby="built-in-game-flags"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Built-in Game Flags</h2><p>The game automatically provides numerous flags representing the current game state:</p><h3 id="player-stats"> <a href="#player-stats" class="anchor-heading" aria-labelledby="player-stats"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Player Stats</h3><ul><li><code class="language-plaintext highlighter-rouge">power</code>, <code class="language-plaintext highlighter-rouge">defense</code>, <code class="language-plaintext highlighter-rouge">barrier</code>, <code class="language-plaintext highlighter-rouge">control</code>, <code class="language-plaintext highlighter-rouge">intensity</code> - Combat and crafting stats<li><code class="language-plaintext highlighter-rouge">qi</code>, <code class="language-plaintext highlighter-rouge">maxqi</code>, <code class="language-plaintext highlighter-rouge">qiDroplets</code> - Qi management<li><code class="language-plaintext highlighter-rouge">realm</code>, <code class="language-plaintext highlighter-rouge">realmProgress</code> - Cultivation level<li><code class="language-plaintext highlighter-rouge">money</code>, <code class="language-plaintext highlighter-rouge">spiritstones</code>, <code class="language-plaintext highlighter-rouge">favour</code> - Resources</ul><h3 id="time-and-calendar"> <a href="#time-and-calendar" class="anchor-heading" aria-labelledby="time-and-calendar"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Time and Calendar</h3><ul><li><code class="language-plaintext highlighter-rouge">year</code>, <code class="language-plaintext highlighter-rouge">yearMonth</code>, <code class="language-plaintext highlighter-rouge">day</code> - Current game time</ul><h3 id="inventory-and-equipment"> <a href="#inventory-and-equipment" class="anchor-heading" aria-labelledby="inventory-and-equipment"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Inventory and Equipment</h3><ul><li>Item names as flags (with proper conversion)<li><code class="language-plaintext highlighter-rouge">storage_</code> + item flag - Storage quantities<li><code class="language-plaintext highlighter-rouge">equipped_</code> + item flag - Equipment status</ul><h3 id="character-state"> <a href="#character-state" class="anchor-heading" aria-labelledby="character-state"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Character State</h3><ul><li><code class="language-plaintext highlighter-rouge">age</code>, <code class="language-plaintext highlighter-rouge">lifespan</code>, <code class="language-plaintext highlighter-rouge">injured</code> - Character condition<li>Affinity levels: <code class="language-plaintext highlighter-rouge">fist</code>, <code class="language-plaintext highlighter-rouge">weapon</code>, <code class="language-plaintext highlighter-rouge">blossom</code>, <code class="language-plaintext highlighter-rouge">celestial</code>, <code class="language-plaintext highlighter-rouge">cloud</code>, <code class="language-plaintext highlighter-rouge">blood</code></ul><h2 id="advanced-techniques"> <a href="#advanced-techniques" class="anchor-heading" aria-labelledby="advanced-techniques"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Advanced Techniques</h2><h3 id="flag-helper-function"> <a href="#flag-helper-function" class="anchor-heading" aria-labelledby="flag-helper-function"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Flag Helper Function</h3><p>For items with complex names, use the <code class="language-plaintext highlighter-rouge">flag()</code> helper to convert names to valid flag keys:</p><div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">flag</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">modAPI</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">flag</span><span class="p">;</span>

<span class="c1">// Convert item names properly</span>
<span class="nx">flag</span><span class="p">(</span><span class="dl">'</span><span class="s1">Greater Spirit Grass</span><span class="dl">'</span><span class="p">);</span> <span class="c1">// becomes: 'Greater_Spirit_Grass'</span>
<span class="nx">flag</span><span class="p">(</span><span class="dl">'</span><span class="s1">Corrupt Void Key (III)</span><span class="dl">'</span><span class="p">);</span> <span class="c1">// becomes: 'Corrupt_Void_Key__III_'</span>

<span class="c1">// Use in conditions</span>
<span class="nl">condition</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">flag</span><span class="p">(</span><span class="nx">itemName</span><span class="p">)}</span><span class="s2"> &gt;= 5`</span><span class="p">;</span>
<span class="nl">condition</span><span class="p">:</span> <span class="s2">`storage_</span><span class="p">${</span><span class="nx">flag</span><span class="p">(</span><span class="nx">itemName</span><span class="p">)}</span><span class="s2"> &gt; 0`</span><span class="p">;</span>
</code></pre></div></div><h3 id="organized-flag-management"> <a href="#organized-flag-management" class="anchor-heading" aria-labelledby="organized-flag-management"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Organized Flag Management</h3><div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Define flag constants for maintainability</span>
<span class="k">export</span> <span class="kd">const</span> <span class="nx">modFlags</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">playerMetMaster</span><span class="p">:</span> <span class="dl">'</span><span class="s1">myMod_playerMetMaster</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">questProgress</span><span class="p">:</span> <span class="dl">'</span><span class="s1">myMod_questProgress</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">specialChoice</span><span class="p">:</span> <span class="dl">'</span><span class="s1">myMod_specialChoice</span><span class="dl">'</span><span class="p">,</span>
<span class="p">};</span>

<span class="c1">// Use in events</span>
<span class="p">{</span>
  <span class="na">kind</span><span class="p">:</span> <span class="dl">'</span><span class="s1">flag</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">flag</span><span class="p">:</span> <span class="nx">modFlags</span><span class="p">.</span><span class="nx">playerMetMaster</span><span class="p">,</span>
  <span class="na">value</span><span class="p">:</span> <span class="dl">'</span><span class="s1">1</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">global</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">}</span>
</code></pre></div></div><h2 id="tips-and-best-practices"> <a href="#tips-and-best-practices" class="anchor-heading" aria-labelledby="tips-and-best-practices"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Tips and Best Practices</h2><h3 id="naming-conventions"> <a href="#naming-conventions" class="anchor-heading" aria-labelledby="naming-conventions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Naming Conventions</h3><ul><li><strong>Prefix your flags</strong>: Use <code class="language-plaintext highlighter-rouge">myMod_flagName</code> to avoid conflicts<li><strong>Use descriptive names</strong>: <code class="language-plaintext highlighter-rouge">completedIntroQuest</code> not <code class="language-plaintext highlighter-rouge">flag1</code><li><strong>Be consistent</strong>: Establish patterns and stick to them</ul><h3 id="storage-strategy"> <a href="#storage-strategy" class="anchor-heading" aria-labelledby="storage-strategy"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Storage Strategy</h3><ul><li><strong>Global flags</strong> for persistent data: player choices, progress, unlocks<li><strong>Event flags</strong> for temporary state: dialogue options, calculations<li><strong>Document your flags</strong>: Keep track of meanings and possible values</ul><h3 id="common-patterns"> <a href="#common-patterns" class="anchor-heading" aria-labelledby="common-patterns"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Common Patterns</h3><div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Boolean flags (0 = false, 1 = true)</span>
<span class="nx">condition</span><span class="p">:</span> <span class="dl">'</span><span class="s1">hasKeyItem == 1</span><span class="dl">'</span><span class="p">;</span>

<span class="c1">// Threshold checks for progression</span>
<span class="nl">condition</span><span class="p">:</span> <span class="dl">'</span><span class="s1">questStage &gt;= 3</span><span class="dl">'</span><span class="p">;</span>

<span class="c1">// Time-based unlock conditions</span>
<span class="nl">condition</span><span class="p">:</span> <span class="dl">'</span><span class="s1">month &gt;= 6 &amp;&amp; completedPreQuest == 1</span><span class="dl">'</span><span class="p">;</span>

<span class="c1">// Resource requirement checks</span>
<span class="nl">condition</span><span class="p">:</span> <span class="dl">'</span><span class="s1">money &gt;= 1000 &amp;&amp; power &gt;= 50</span><span class="dl">'</span><span class="p">;</span>
</code></pre></div></div><p>The flags system is incredibly flexible and powerful. Master it, and you’ll be able to create dynamic, responsive content that adapts to each player’s unique journey through your mod.</p></main><hr><footer><p><a href="#top" id="back-to-top">Back to top</a></p><p class="text-small text-grey-dk-100 mb-0">AFNM Example Mod Documentation - Built with <a href="https://just-the-docs.github.io/just-the-docs/">Just the Docs</a></p></footer></div></div><div class="search-overlay"></div></div>
